### chattr {#chattr}

chattr ( 設定檔案隱藏屬性)

chattr指令只能在Ext2/Ext3的檔案系統上面生效， 其他的檔案系統可能就無法支援這個指令了。

[root @test /root ]# chattr [+-=][ASacdistu] [文件或目录名称]

参数说明：

+-= ：分别为&quot;+&quot;（增加）、&quot;-&quot;（减少）、&quot;=&quot;（设定）属性

A ：当设定了属性A,这个文件(或目录)的存取时间atime(access)将不可被修改,可避免诸如手提电脑容易产生磁盘I/O错误的情况

S ：这个功能有点类似sync，是将数据同步写入磁盘中，可以有效避免数据流失

a ：设定a后，这个文件将只能增加数据而不能删除，只有root才能设定这个属性。

c ：设定这个属性之后，将会自动将此文件压缩，在读取时自动解压缩。但是在存储的时候，会先进行压缩再存储（对于大文件很有用）

d ：当dump（备份）程序被执行，设定d属性将可使该文件（或目录）具有dump功效

i ：这个参数可以让一个文件&quot;不能被删除、更名、设定链接也无法写入或新增数据&quot;，对于系统安全性有相当大的助益

j ：当使用ext3文件系统格式时,设定j属性将使文件在写入时先记录在日志中,但是当filesystem设定参数为data=journalled时,由于已经设定了日志,所以这个属性无效

s ：当文件设定了s参数时，它会被完全移出这个硬盘空间

u ：与s相反，当使用u配置文件时，数据内容其实还存在于磁盘中，可以用来取消删除

范例：

[root @test /root]# chattr +i /etc/shadow

如此则无法更动这个文件

[root @test /root]# chattr -i /etc/shadow

解除该属性