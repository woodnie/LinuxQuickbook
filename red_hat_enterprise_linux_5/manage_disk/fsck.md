### fsck {#fsck}

fsck

功能说明：检查文件系统并尝试修复错误(检查硬盘有没有坏轨)。

语　　法：fsck [-aANPrRsTV][-t &lt;文件系统类型&gt;][文件系统...]

补充说明：当文件系统发生错误四化，可用fsck指令尝试加以修复。

参　　数：

-a   自动修复文件系统，不询问任何问题。

-A   依照/etc/fstab配置文件的内容，检查文件内所列的全部文件系统。

-N   不执行指令，仅列出实际执行会进行的动作。

-P   当搭配&quot;-A&quot;参数使用时，则会同时检查所有的文件系统。

-r   采用互动模式，在执行修复时询问问题，让用户得以确认并决定处理方式。

-R  当搭配&quot;-A&quot;参数使用时，则会略过/目录的文件系统不予检查。

-s   依序执行检查作业，而非同时执行。

-t    &lt;文件系统类型&gt;   指定要检查的文件系统类型。

-T   执行fsck指令时，不显示标题信息。

-V   显示指令执行过程。

ext2文件系统：

ext2文件系统挂载为读写时，系统会将该文件系统标记为dirty。只有umount后，才将其标记为clean。

一个没有挂载，但被标记为dirty的文件系统，可能是由于没有被正常卸载，可能导致文件系统受损。

因为在系统崩溃的时候不知道在写入什么内容，因此需要检查整个文件系统来修复问题。

ext3文件系统：

在ext2的基础上，引入了可处理的日志，该日志会记录系统崩溃时在写入什么。

ext3文件系统挂载为读写时，系统会将该文件系统标记为clean。

但其有可能发生损坏，所以在引导的时候，会按照日志信息检查并修复受损。

fsck就是这样的检查修复程序

fsck程序是系统中用来检查标准文件系统的程序的前端程序。

fsck实际运行e2fsck(fsck.ext2,fsck.ext3) disfsck等

fsck根据/etc/fstab来检查